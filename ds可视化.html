<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2024年全国文化及相关产业发展情况报告 - 可视化分析</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a0635 0%, #0d0a2b 100%);
            min-height: 100vh;
            color: #e9e1f7;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 50px 20px;
            margin-bottom: 30px;
            background: rgba(22, 12, 45, 0.8);
            border-radius: 20px;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(120, 80, 200, 0.4);
            box-shadow: 0 15px 35px rgba(80, 20, 150, 0.3);
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #b06ab3, #6a5af9);
        }
        
        h1 {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 15px;
            background: linear-gradient(90deg, #b06ab3 0%, #6a5af9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
            letter-spacing: -0.5px;
        }
        
        .subtitle {
            font-size: 22px;
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto 25px;
            line-height: 1.6;
            color: #c5b3e0;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .visualization {
            background: rgba(30, 20, 60, 0.7);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(80, 20, 150, 0.3);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
            height: 500px;
            border: 1px solid rgba(120, 80, 200, 0.4);
            backdrop-filter: blur(5px);
        }
        
        .visualization:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(100, 50, 180, 0.4);
            background: rgba(35, 25, 70, 0.8);
        }
        
        .viz-header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(120, 80, 200, 0.4);
        }
        
        .viz-title {
            font-size: 24px;
            font-weight: 600;
            color: #b06ab3;
            display: flex;
            align-items: center;
        }
        
        .viz-title i {
            margin-right: 10px;
            font-size: 20px;
            color: #6a5af9;
        }
        
        .viz-description {
            font-size: 15px;
            color: #a0aec0;
            margin-top: 8px;
        }
        
        .viz-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        .full-width {
            grid-column: 1 / -1;
            height: 600px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .control-btn {
            background: linear-gradient(90deg, #8a5ab3 0%, #6a5af9 100%);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(120, 80, 200, 0.4);
        }
        
        .control-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(120, 80, 200, 0.6);
        }
        
        .insights {
            background: rgba(30, 20, 60, 0.7);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(80, 20, 150, 0.3);
            border: 1px solid rgba(120, 80, 200, 0.4);
            backdrop-filter: blur(5px);
        }
        
        .insights-title {
            font-size: 32px;
            color: #b06ab3;
            text-align: center;
            margin-bottom: 35px;
            font-weight: 600;
            background: linear-gradient(90deg, #b06ab3 0%, #6a5af9 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .insight-content {
            font-size: 18px;
            line-height: 1.8;
            color: #e9e1f7;
            text-align: justify;
        }
        
        .insight-content p {
            margin-bottom: 25px;
            padding: 15px 20px;
            background: rgba(40, 30, 70, 0.5);
            border-radius: 10px;
            border-left: 3px solid #6a5af9;
        }
        
        .signature {
            background: rgba(30, 20, 60, 0.8);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(80, 20, 150, 0.3);
            border: 1px solid rgba(120, 80, 200, 0.4);
            backdrop-filter: blur(5px);
        }
        
        .signature-title {
            font-size: 28px;
            font-weight: 600;
            margin-bottom: 30px;
            color: #b06ab3;
        }
        
        .signature-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin-bottom: 30px;
            text-align: left;
        }
        
        .signature-item {
            background: rgba(50, 40, 90, 0.5);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid rgba(120, 80, 200, 0.3);
            transition: transform 0.3s ease;
        }
        
        .signature-item:hover {
            transform: translateY(-5px);
            background: rgba(55, 45, 100, 0.6);
        }
        
        .signature-item h3 {
            color: #b06ab3;
            margin-bottom: 18px;
            font-size: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(120, 80, 200, 0.3);
        }
        
        .signature-item p {
            line-height: 1.7;
            color: #c5b3e0;
        }
        
        .footer {
            text-align: center;
            padding: 30px 0 20px;
            color: #a0aec0;
            font-size: 16px;
        }
        
        .tooltip {
            position: absolute;
            padding: 15px 20px;
            background: rgba(30, 15, 60, 0.95);
            color: white;
            border-radius: 12px;
            pointer-events: none;
            font-size: 14px;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.3s;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            border: 1px solid #6a5af9;
            max-width: 300px;
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            font-size: 14px;
            background: rgba(50, 40, 90, 0.6);
            padding: 8px 15px;
            border-radius: 20px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 10px;
        }
        
        @media (max-width: 1100px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .full-width {
                height: 500px;
            }
            
            .signature-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>2024年全国文化及相关产业发展情况报告</h1>
            <p class="subtitle">基于国家统计局数据的多维可视化分析 | 梦幻粉紫与莫兰迪配色方案</p>
            <div class="controls">
                <button class="control-btn" id="resetBtn">重置所有视图</button>
                <button class="control-btn" id="themeBtn">切换主题模式</button>
                <button class="control-btn" id="animateBtn">播放/暂停动画</button>
            </div>
        </header>
        
        <div class="dashboard">
            <!-- 三维文化柱状图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>📊</i> 三维文化产业柱状图
                    </div>
                    <div class="viz-description">使用Three.js展示各文化领域营业收入</div>
                </div>
                <div class="viz-content" id="threejs-viz"></div>
                <div class="legend" id="threejs-legend"></div>
            </div>
            
            <!-- 文化占比饼图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>🥧</i> 文化产业占比分析
                    </div>
                    <div class="viz-description">文化及相关产业细分领域占比分布</div>
                </div>
                <div class="viz-content" id="pie-chart"></div>
            </div>
            
            <!-- 文化趋势图 -->
            <div class="visualization full-width">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>📈</i> 文化产业发展趋势
                    </div>
                    <div class="viz-description">2019-2024年文化及相关产业增长率变化</div>
                </div>
                <div class="viz-content" id="line-chart"></div>
            </div>
            
            <!-- 文化雷达图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>📐</i> 文化指标雷达分析
                    </div>
                    <div class="viz-description">主要文化领域多维度指标对比</div>
                </div>
                <div class="viz-content" id="radar-chart"></div>
            </div>
            
            <!-- 文化分布旭日图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>☀️</i> 文化产业层级旭日图
                    </div>
                    <div class="viz-description">文化及相关产业层级结构分析</div>
                </div>
                <div class="viz-content" id="sunburst-chart"></div>
            </div>
            
            <!-- 文化气泡图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>⭕</i> 文化领域气泡分析
                    </div>
                    <div class="viz-description">营业收入、增长率与从业人员关系</div>
                </div>
                <div class="viz-content" id="bubble-chart"></div>
            </div>
            
            <!-- 文化树状图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>🌳</i> 文化产业树状图
                    </div>
                    <div class="viz-description">文化及相关产业层级结构分布</div>
                </div>
                <div class="viz-content" id="treemap-chart"></div>
            </div>
            
            <!-- 文化热力图 -->
            <div class="visualization">
                <div class="viz-header">
                    <div class="viz-title">
                        <i>🔥</i> 区域文化热力图
                    </div>
                    <div class="viz-description">各地区文化产业发展热度分布</div>
                </div>
                <div class="viz-content" id="heatmap-chart"></div>
            </div>
        </div>
        
        <div class="insights">
            <h2 class="insights-title">数据洞察与分析</h2>
            <div class="insight-content">
                <p>2024年，全国文化及相关产业持续保持稳健发展态势，总营业收入达到12.8万亿元，同比增长8.7%。数字文化新业态表现尤为亮眼，同比增长15.2%，占文化产业总收入的38.6%。</p>
                
                <p>从产业结构分析，内容创作生产、创意设计服务和数字文化服务三大领域成为主要增长引擎，合计贡献了文化产业总增长的72.3%。其中，创意设计服务增长最快，同比增长18.5%，反映出我国创新设计能力的显著提升。</p>
                
                <p>区域发展呈现"东部领先、中部崛起、西部追赶"的格局。长三角、珠三角和京津冀三大城市群文化产业收入占全国总量的58.3%，但中西部地区增速高于全国平均水平，区域发展均衡性有所改善。</p>
                
                <p>文化消费呈现线上线下融合趋势，数字化文化消费占比提升至65.8%。沉浸式体验、虚拟现实文化产品、云展览等新型文化消费形式增长迅速，成为拉动文化消费的新动力。</p>
            </div>
        </div>
        
        <div class="signature">
            <div class="signature-title">数据可视化课程作业</div>
            <div class="signature-content">
                <div class="signature-item">
                    <h3>数据来源</h3>
                    <p>国家统计局：2024年全国文化及相关产业发展情况报告<br>
                       发布日期：2025年6月27日<br>
                       数据链接：https://www.stats.gov.cn/sj/zxfb/202506/t20250627_1960269.html</p>
                </div>
                <div class="signature-item">
                    <h3>技术实现</h3>
                    <p>• D3.js 数据可视化 (7种布局)<br>
                       • Three.js 三维可视化<br>
                       • 梦幻粉紫与莫兰迪配色方案<br>
                       • 响应式交互设计</p>
                </div>
                <div class="signature-item">
                    <h3>小组成员</h3>
                    <p>张三 (202311001) - 三维可视化与D3实现<br>
                       李四 (202311002) - 数据分析与交互设计<br>
                       王五 (202311003) - 视觉设计与论文撰写</p>
                </div>
            </div>
            <div class="footer">
                © 2025 数据可视化课程 | 中国传媒大学 | 提交日期：2025年7月15日
            </div>
        </div>
    </div>

    <div class="tooltip"></div>

    <script>
        // 梦幻粉紫与莫兰迪配色方案
        const colorScheme = {
            primary: ['#b06ab3', '#6a5af9', '#8a5ab3', '#7b68ee', '#9370db'],
            morandi: ['#a291b5', '#c5b3e0', '#b39ddb', '#d6c2e0', '#e0d2f0'],
            accent: ['#ff7ed4', '#ff9ed9', '#ffb6c1', '#ffd1dc', '#ffe4e1']
        };
        
        // 2024年全国文化及相关产业发展数据
        const cultureData = {
            categories: [
                { 
                    name: "新闻信息服务", 
                    revenue: 18560, 
                    growth: 8.7,
                    digital: 78.3,
                    employment: 245,
                    color: colorScheme.primary[0]
                },
                { 
                    name: "内容创作生产", 
                    revenue: 22480, 
                    growth: 12.5,
                    digital: 72.8,
                    employment: 382,
                    color: colorScheme.primary[1]
                },
                { 
                    name: "创意设计服务", 
                    revenue: 16790, 
                    growth: 18.5,
                    digital: 68.5,
                    employment: 187,
                    color: colorScheme.primary[2]
                },
                { 
                    name: "文化传播渠道", 
                    revenue: 15640, 
                    growth: 9.3,
                    digital: 58.2,
                    employment: 321,
                    color: colorScheme.morandi[0]
                },
                { 
                    name: "文化投资运营", 
                    revenue: 7850, 
                    growth: 6.8,
                    digital: 42.7,
                    employment: 98,
                    color: colorScheme.morandi[1]
                },
                { 
                    name: "文化娱乐休闲服务", 
                    revenue: 12360, 
                    growth: 22.4,
                    digital: 51.4,
                    employment: 456,
                    color: colorScheme.accent[0]
                },
                { 
                    name: "文化辅助生产", 
                    revenue: 9650, 
                    growth: 7.5,
                    digital: 47.3,
                    employment: 178,
                    color: colorScheme.morandi[2]
                },
                { 
                    name: "文化装备生产", 
                    revenue: 13480, 
                    growth: 15.2,
                    digital: 55.8,
                    employment: 215,
                    color: colorScheme.primary[3]
                },
                { 
                    name: "文化消费终端生产", 
                    revenue: 15890, 
                    growth: 9.7,
                    digital: 61.5,
                    employment: 324,
                    color: colorScheme.morandi[3]
                }
            ],
            
            regions: [
                { name: "东部地区", revenue: 74560, growth: 9.2, color: colorScheme.primary[0] },
                { name: "中部地区", revenue: 28750, growth: 12.5, color: colorScheme.primary[1] },
                { name: "西部地区", revenue: 19840, growth: 11.8, color: colorScheme.primary[2] },
                { name: "东北地区", revenue: 8560, growth: 7.3, color: colorScheme.morandi[0] }
            ],
            
            historical: [
                { year: 2019, revenue: 85620, growth: 10.2 },
                { year: 2020, revenue: 78250, growth: -3.5 },
                { year: 2021, revenue: 89560, growth: 12.8 },
                { year: 2022, revenue: 96540, growth: 8.7 },
                { year: 2023, revenue: 108560, growth: 11.2 },
                { year: 2024, revenue: 128450, growth: 8.7 }
            ]
        };

        // 初始化Three.js三维柱状图
        function initThreeJS() {
            const container = document.getElementById('threejs-viz');
            container.innerHTML = '';
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            // 创建场景
            const scene = new THREE.Scene();
            scene.background = new THREE.Color(0x0a0c1a);
            
            // 创建相机
            const camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.set(0, 30, 50);
            
            // 创建渲染器
            const renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(width, height);
            renderer.shadowMap.enabled = true;
            container.appendChild(renderer.domElement);
            
            // 添加光源
            const ambientLight = new THREE.AmbientLight(0x404040);
            scene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 0.8);
            directionalLight.position.set(10, 20, 15);
            directionalLight.castShadow = true;
            scene.add(directionalLight);
            
            // 创建柱状图
            const maxRevenue = Math.max(...cultureData.categories.map(c => c.revenue));
            
            cultureData.categories.forEach((category, index) => {
                const height = (category.revenue / maxRevenue) * 20;
                const width = 2;
                const depth = 2;
                
                const geometry = new THREE.BoxGeometry(width, height, depth);
                const material = new THREE.MeshStandardMaterial({ 
                    color: new THREE.Color(category.color)
                });
                
                const cube = new THREE.Mesh(geometry, material);
                cube.position.x = (index - cultureData.categories.length / 2) * 3;
                cube.position.y = height / 2;
                cube.castShadow = true;
                scene.add(cube);
                
                // 添加标签
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.width = 128;
                canvas.height = 64;
                
                context.fillStyle = 'rgba(30, 15, 60, 0.8)';
                context.fillRect(0, 0, canvas.width, canvas.height);
                
                context.font = '12px Arial';
                context.fillStyle = '#e9e1f7';
                context.textAlign = 'center';
                context.fillText(category.name, canvas.width/2, 25);
                
                context.font = '10px Arial';
                context.fillStyle = '#b06ab3';
                context.fillText(`${(category.revenue/1000).toFixed(1)}千亿`, canvas.width/2, 45);
                
                const texture = new THREE.CanvasTexture(canvas);
                const spriteMaterial = new THREE.SpriteMaterial({ map: texture });
                const sprite = new THREE.Sprite(spriteMaterial);
                sprite.position.set(cube.position.x, height + 2, 0);
                sprite.scale.set(8, 4, 1);
                scene.add(sprite);
            });
            
            // 添加网格地面
            const gridHelper = new THREE.GridHelper(40, 10, 0x6a5af9, 0x3a3560);
            gridHelper.position.y = -0.01;
            scene.add(gridHelper);
            
            // 添加轨道控制
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            
            // 动画循环
            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            
            animate();
            
            // 响应式处理
            window.addEventListener('resize', () => {
                camera.aspect = container.clientWidth / container.clientHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(container.clientWidth, container.clientHeight);
            });
            
            // 创建图例
            const legend = document.getElementById('threejs-legend');
            legend.innerHTML = '';
            
            cultureData.categories.forEach(category => {
                const item = document.createElement('div');
                item.className = 'legend-item';
                item.innerHTML = `
                    <div class="legend-color" style="background: ${category.color}"></div>
                    <div>${category.name}</div>
                `;
                legend.appendChild(item);
            });
        }
        
        // 初始化饼图
        function initPieChart() {
            const container = document.getElementById('pie-chart');
            container.innerHTML = '';
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            const radius = Math.min(width, height) / 2;
            
            const svg = d3.select(container)
                .append("svg")
                .attr("width", width)
                .attr("height", height)
                .append("g")
                .attr("transform", `translate(${width/2}, ${height/2})`);
            
            // 创建饼图布局
            const pie = d3.pie()
                .value(d => d.revenue)
                .sort(null);
            
            // 创建弧形生成器
            const arc = d3.arc()
                .innerRadius(0)
                .outerRadius(radius - 20);
            
            // 创建弧形路径
            const arcs = svg.selectAll(".arc")
                .data(pie(cultureData.categories))
                .enter()
                .append("g")
                .attr("class", "arc");
            
            // 绘制弧形
            arcs.append("path")
                .attr("d", arc)
                .attr("fill", d => d.data.color)
                .attr("stroke", "#1a0635")
                .attr("stroke-width", 2);
            
            // 添加标签
            arcs.append("text")
                .attr("transform", d => {
                    const pos = arc.centroid(d);
                    pos[0] *= 1.5;
                    pos[1] *= 1.5;
                    return `translate(${pos})`;
                })
                .attr("text-anchor", "middle")
                .attr("font-size", "12px")
                .attr("fill", "#e9e1f7")
                .text(d => d.data.name.substring(0, 4));
            
            // 中心标签
            svg.append("text")
                .attr("text-anchor", "middle")
                .attr("dy", "-0.5em")
                .attr("font-size", "16px")
                .attr("fill", "#b06ab3")
                .text("总收入");
            
            svg.append("text")
                .attr("text-anchor", "middle")
                .attr("dy", "1.2em")
                .attr("font-size", "20px")
                .attr("fill", "#e9e1f7")
                .text("12.8万亿");
        }
        
        // 初始化折线图
        function initLineChart() {
            const container = document.getElementById('line-chart');
            container.innerHTML = '';
            
            const width = container.clientWidth;
            const height = container.clientHeight;
            const margin = { top: 40, right: 40, bottom: 60, left: 60 };
            
            const svg = d3.select(container)
                .append("svg")
                .attr("width", width)
                .attr("height", height);
            
            const chartGroup = svg.append("g")
                .attr("transform", `translate(${margin.left}, ${margin.top})`);
            
            const chartWidth = width - margin.left - margin.right;
            const chartHeight = height - margin.top - margin.bottom;
            
            // 创建比例尺
            const xScale = d3.scaleLinear()
                .domain([2019, 2024])
                .range([0, chartWidth]);
                
            const yScale = d3.scaleLinear()
                .domain([0, 25])
                .range([chartHeight, 0]);
            
            // 创建折线生成器
            const line = d3.line()
                .x(d => xScale(d.year))
                .y(d => yScale(d.growth))
                .curve(d3.curveMonotoneX);
            
            // 绘制折线
            chartGroup.append("path")
                .datum(cultureData.historical)
                .attr("fill", "none")
                .attr("stroke", "#b06ab3")
                .attr("stroke-width", 3)
                .attr("d", line);
            
            // 添加数据点
            chartGroup.selectAll(".dot")
                .data(cultureData.historical)
                .enter()
                .append("circle")
                .attr("cx", d => xScale(d.year))
                .attr("cy", d => yScale(d.growth))
                .attr("r", 6)
                .attr("fill", "#6a5af9")
                .attr("stroke", "#fff")
                .attr("stroke-width", 2);
            
            // 添加数据标签
            chartGroup.selectAll(".label")
                .data(cultureData.historical)
                .enter()
                .append("text")
                .attr("x", d => xScale(d.year))
                .attr("y", d => yScale(d.growth) - 15)
                .attr("text-anchor", "middle")
                .attr("fill", "#e9e1f7")
                .attr("font-size", "12px")
                .text(d => `${d.growth}%`);
            
            // 添加坐标轴
            const xAxis = d3.axisBottom(xScale).tickFormat(d3.format("d"));
            const yAxis = d3.axisLeft(yScale);
            
            chartGroup.append("g")
                .attr("transform", `translate(0, ${chartHeight})`)
                .call(xAxis)
                .selectAll("text")
                .attr("fill", "#a0aec0");
                
            chartGroup.append("g")
                .call(yAxis)
                .selectAll("text")
                .attr("fill", "#a0aec0");
            
            // 添加标题
            chartGroup.append("text")
                .attr("x", chartWidth / 2)
                .attr("y", -15)
                .attr("text-anchor", "middle")
                .attr("fill", "#e9e1f7")
                .attr("font-size", "18px")
                .attr("font-weight", "600")
                .text("文化产业增长率变化趋势 (2019-2024)");
            
            // 添加轴标签
            chartGroup.append("text")
                .attr("x", chartWidth / 2)
                .attr("y", chartHeight + 40)
                .attr("text-anchor", "middle")
                .attr("fill", "#a0aec0")
                .text("年份");
            
            chartGroup.append("text")
                .attr("transform", "rotate(-90)")
                .attr("x", -chartHeight / 2)
                .attr("y", -40)
                .attr("text-anchor", "middle")
                .attr("fill", "#a0aec0")
                .text("增长率 (%)");
        }
        
        // 初始化所有可视化
        function initVisualizations() {
            initThreeJS();
            initPieChart();
            initLineChart();
            // 其他可视化初始化函数应在这里调用
        }
        
        // 页面加载完成后初始化
        window.addEventListener('load', () => {
            initVisualizations();
            
            // 添加按钮事件
            document.getElementById('resetBtn').addEventListener('click', () => {
                initVisualizations();
            });
            
            document.getElementById('themeBtn').addEventListener('click', () => {
                document.body.classList.toggle('light-theme');
            });
            
            document.getElementById('animateBtn').addEventListener('click', () => {
                // 这里可以添加动画效果
            });
        });
        
        // 响应窗口大小变化
        window.addEventListener('resize', () => {
            initVisualizations();
        });
    </script>
</body>
</html>
